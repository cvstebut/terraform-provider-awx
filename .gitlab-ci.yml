image: golang:1.12

cache:
  paths:
    - .cache

stages:
  - test
  - build

build:
  stage: build
  script:
    - GOARCH="amd64" GOOS="linux" go build -o terraform-provider-awx_linux_amd64
    - GOARCH="amd64" GOOS="windows" go build -o terraform-provider-awx_x86_64
    - GOARCH="amd64" GOOS="darwin" go build -o terraform-provider-awx_darwin_amd64